<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>CNNs - Part 1 | Life is not a race, but a journey</title><meta name="author" content="Xiang Li"><meta name="copyright" content="Xiang Li"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Notes on Convolutional Neural Networks (CNN)">
<meta property="og:type" content="article">
<meta property="og:title" content="CNNs - Part 1">
<meta property="og:url" content="https://xloverflow.github.io/2025/10/02/CNN/index.html">
<meta property="og:site_name" content="Life is not a race, but a journey">
<meta property="og:description" content="Notes on Convolutional Neural Networks (CNN)">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://raw.githubusercontent.com/XLOverflow/blog-image/main/20251002142654568.png">
<meta property="article:published_time" content="2025-10-02T18:01:45.000Z">
<meta property="article:modified_time" content="2025-10-02T21:15:38.264Z">
<meta property="article:author" content="Xiang Li">
<meta property="article:tag" content="Study Notes">
<meta property="article:tag" content="Deep Learning">
<meta property="article:tag" content="CNN">
<meta property="article:tag" content="CMU 11-785">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://raw.githubusercontent.com/XLOverflow/blog-image/main/20251002142654568.png"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "CNNs - Part 1",
  "url": "https://xloverflow.github.io/2025/10/02/CNN/",
  "image": "https://raw.githubusercontent.com/XLOverflow/blog-image/main/20251002142654568.png",
  "datePublished": "2025-10-02T18:01:45.000Z",
  "dateModified": "2025-10-02T21:15:38.264Z",
  "author": [
    {
      "@type": "Person",
      "name": "Xiang Li",
      "url": "https://xloverflow.github.io"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://xloverflow.github.io/2025/10/02/CNN/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!true && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: 'Copy Successful',
    error: 'Copy Failed',
    noSupport: 'Browser Not Supported'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'Just now',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: 'Load More'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'CNNs - Part 1',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><meta name="generator" content="Hexo 7.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="https://pica.zhimg.com/80/v2-b6830c2136b7784c0aba649af7ec2867_1440w.jpeg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">25</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">19</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">5</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/List/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/List/gallery/"><i class="fa-fw fa fa-image"></i><span> Album</span></a></li><li><a class="site-page child" href="/List/movies/"><i class="fa-fw fas fa-video"></i><span> Videos</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-film"></i><span> Movies</span></a></li><li><a class="site-page child" href="/games/"><i class="fa-fw fas fa-gamepad"></i><span> Games</span></a></li><li><a class="site-page child" href="/books/"><i class="fa-fw fas fa-book"></i><span> Books</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(https://raw.githubusercontent.com/XLOverflow/blog-image/main/20251002142654568.png);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">Life is not a race, but a journey</span></a><a class="nav-page-title" href="/"><span class="site-name">CNNs - Part 1</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  Back to Home</span></span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/List/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/List/gallery/"><i class="fa-fw fa fa-image"></i><span> Album</span></a></li><li><a class="site-page child" href="/List/movies/"><i class="fa-fw fas fa-video"></i><span> Videos</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-film"></i><span> Movies</span></a></li><li><a class="site-page child" href="/games/"><i class="fa-fw fas fa-gamepad"></i><span> Games</span></a></li><li><a class="site-page child" href="/books/"><i class="fa-fw fas fa-book"></i><span> Books</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">CNNs - Part 1</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2025-10-02T18:01:45.000Z" title="Created 2025-10-02 14:01:45">2025-10-02</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2025-10-02T21:15:38.264Z" title="Updated 2025-10-02 17:15:38">2025-10-02</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/CS-Study-Notes/">CS Study Notes</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post Views:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h1 id="Convolutional-Neural-Networks-CNN"><a href="#Convolutional-Neural-Networks-CNN" class="headerlink" title="Convolutional Neural Networks (CNN)"></a>Convolutional Neural Networks (CNN)</h1><p>Firstly, we know some facts about MLPs (Multi-Layer Perceptrons):</p>
<ul>
<li>MLPs are universal function approximators. (Boolean functions, classifiers, and regressions)</li>
<li>MLPs can be trained through variations of gradient descent</li>
</ul>
<p>But how do we meet the <strong>need of shift invariance</strong>, conventional MLPs are sensitive to the location of the pattern, resulting in a very large network to cover all possible locations of the pattern. So CNNs are introduced.</p>
<p>There are two scenarios in this lecture:</p>
<ol>
<li>1D input (e.g., time series)</li>
<li>2D input (e.g., images)</li>
</ol>
<h2 id="Regular-networks-vs-Scanning-networks"><a href="#Regular-networks-vs-Scanning-networks" class="headerlink" title="Regular networks vs. Scanning networks"></a>Regular networks vs. Scanning networks</h2><h3 id="Regular-networks"><a href="#Regular-networks" class="headerlink" title="Regular networks"></a>Regular networks</h3><p><img src="https://raw.githubusercontent.com/XLOverflow/blog-image/main/20251002144814402.png" alt="Regular networks"></p>
<p>In a regular MLP, every neuron in the same layer is connnected by a unique weight to every unit in the previous layer.</p>
<ul>
<li>All entries in the weight matrix are <strong>unique</strong></li>
<li>The weight matrix is (generally) full</li>
</ul>
<h3 id="Scanning-networks"><a href="#Scanning-networks" class="headerlink" title="Scanning networks"></a>Scanning networks</h3><p><img src="https://raw.githubusercontent.com/XLOverflow/blog-image/main/Screenshot%202025-10-02%20at%2014.50.47.png" alt="Scanning networks"></p>
<p>In a scanning MLP each neuron is connected to a subset of neurons in the previous layer.</p>
<ul>
<li>The weight matrix is sparse</li>
<li>The weights matrix is block structured with <strong>identical blocks</strong></li>
<li>The network is a <strong>shared parameter model</strong></li>
</ul>
<div class="note info flat"><p>Scanning Networks are our focus in this lecture.</p>
</div>

<h2 id="Learning-in-shared-parameter-model"><a href="#Learning-in-shared-parameter-model" class="headerlink" title="Learning in shared parameter model"></a>Learning in shared parameter model</h2><img src="https://raw.githubusercontent.com/XLOverflow/blog-image/main/20251002150101208.png" alt="Shared parameter model" width="30%"/>

<h3 id="1-Shared-Parameters"><a href="#1-Shared-Parameters" class="headerlink" title="1) Shared Parameters"></a>1) Shared Parameters</h3><p>Multiple connections are constrained to have the same parameter:<br>    $$<br>    w_{ij}^k &#x3D; w_{mn}^l &#x3D; w^s<br>    $$</p>
<p>For any training instance $X$, a small perturbation of $w^s$ will simultaneously perturb both $w_{ij}^k$ and $w_{mn}^l$. Each of these perturbations will individually influence the final divergence (loss):<br>    $$<br>    Div(d, y)<br>    $$</p>
<p>The gradient with respect to the shared parameter $w^s$ equals the sum of the gradients with respect to each shared weight:<br>    $$<br>    \frac{\partial Div}{\partial w^s}<br>    &#x3D; \frac{\partial Div}{\partial w_{ij}^k} \cdot \frac{\partial w_{ij}^k}{\partial w^s}<br>    + \frac{\partial Div}{\partial w_{mn}^l} \cdot \frac{\partial w_{mn}^l}{\partial w^s}<br>    $$<br>    Since $w_{ij}^k &#x3D; w_{mn}^l &#x3D; w^s$, this simplifies to:<br>    $$<br>    \frac{\partial Div}{\partial w^s}<br>    &#x3D; \frac{\partial Div}{\partial w_{ij}^k}<br>    + \frac{\partial Div}{\partial w_{mn}^l}<br>    $$</p>
<p>In conclusion, the gradient with respect to a shared parameter <strong>is the sum of the gradients with respect to each of its instances</strong>.</p>
<h3 id="2-Gradient-of-Shared-Parameters"><a href="#2-Gradient-of-Shared-Parameters" class="headerlink" title="2) Gradient of Shared Parameters"></a>2) Gradient of Shared Parameters</h3><p>$S &#x3D; {e_1, e_2, …, e_N}$ is a set of shared edges. So the total gradient is the sum over all edges in the set:<br>    $$<br>    \frac{\partial Div}{\partial w^s}<br>    &#x3D; \sum_{e \in S} \frac{\partial Div}{\partial w^e}<br>    $$</p>
<p>Then the loss gradient w.r.t. $w^s$ is<br>$$<br>\nabla_S \mathrm{Loss}<br>&#x3D; \frac{\partial \mathrm{Loss}}{\partial w^s}<br>&#x3D; \sum_{e \in S} \frac{\partial \mathrm{Loss}}{\partial w^{e}}.<br>$$</p>
<h3 id="3-Gradient-Descent-Update"><a href="#3-Gradient-Descent-Update" class="headerlink" title="3) Gradient Descent Update"></a>3) Gradient Descent Update</h3><p>With learning rate $\eta$, update the shared parameter:<br>$$<br>w^s \leftarrow w^s - \eta \ \nabla_S \mathrm{Loss}.<br>$$</p>
<p>After updating, write the new shared value back to every tied weight:<br>$$<br>\forall (k,i,j)\in S:\quad w^{(k)}_{i,j} \leftarrow w^s.<br>$$</p>
<h3 id="4-Training-Loop"><a href="#4-Training-Loop" class="headerlink" title="4) Training Loop"></a>4) Training Loop</h3><ol>
<li>Initialize all weights $ \mathbf{W}_1, \mathbf{W}_2, \dots, \mathbf{W}_K $.</li>
<li>For each tied set $S$:<ul>
<li>Backprop to get $ \tfrac{\partial \mathrm{Loss}}{\partial w^{e}} $ for each edge $e\in S$.</li>
<li>Sum to obtain $ \nabla_S \mathrm{Loss} $.</li>
<li>Update $ w^s \leftarrow w^s - \eta , \nabla_S \mathrm{Loss} $.</li>
<li>Sync the updated $ w^s $ back to all $ w^{(k)}_{i,j} \in S $.</li>
</ul>
</li>
<li>Repeat until the loss converges.</li>
</ol>
<h2 id="Distributed-vs-Non-distributed-Scanning"><a href="#Distributed-vs-Non-distributed-Scanning" class="headerlink" title="Distributed vs Non-distributed Scanning"></a>Distributed vs Non-distributed Scanning</h2><h3 id="Definition"><a href="#Definition" class="headerlink" title="Definition"></a>Definition</h3><ul>
<li><strong>Distributed scanning</strong>: Parameters (weights) are <strong>shared across spatial positions</strong>.<br>→ Example: convolution kernels reused at every location.</li>
<li><strong>Non-distributed scanning</strong>: Parameters are <strong>not shared</strong>; each location&#x2F;block has its own set of weights.</li>
</ul>
<h3 id="Key-Differences"><a href="#Key-Differences" class="headerlink" title="Key Differences"></a>Key Differences</h3><ul>
<li><strong>Parameter sharing</strong>: Distributed ✅ | Non-distributed ❌</li>
<li><strong>Parameter count</strong>:<ul>
<li>Distributed: Independent of number of positions; fewer parameters.  <ul>
<li>Formula: $K_0 D N_1 + K_1 N_1 N_2 + N_2 N_3$</li>
</ul>
</li>
<li>Non-distributed: Grows linearly with the number of positions (replicated per location).</li>
</ul>
</li>
<li><strong>Inductive bias</strong>:<ul>
<li>Distributed: Enforces <strong>translation equivariance&#x2F;invariance</strong>.  </li>
<li>Non-distributed: No such bias; more flexible but prone to overfitting.</li>
</ul>
</li>
<li><strong>Output arrangement</strong>:<ul>
<li>Distributed: Naturally produces feature maps aligned with the input grid.  </li>
<li>Non-distributed: Not required to follow the same shape (can just collect outputs).</li>
</ul>
</li>
<li><strong>Efficiency</strong>:<ul>
<li>Distributed: Fewer parameters, better generalization, cheaper in memory&#x2F;compute.  </li>
<li>Non-distributed: Many more parameters, expensive, less scalable.</li>
</ul>
</li>
<li><strong>Implementation analogy</strong>:<ul>
<li>Distributed ≈ Convolution (shared kernels).  </li>
<li>Non-distributed ≈ Independent MLPs applied at each location.</li>
</ul>
</li>
</ul>
<h3 id="One-liner"><a href="#One-liner" class="headerlink" title="One-liner"></a>One-liner</h3><p>The <strong>essence</strong>: Distributed vs non-distributed scanning differs in whether weights are <strong>shared across positions</strong> — which directly impacts parameter count, generalization, and efficiency.</p>
<h2 id="Terminology-in-CNNs"><a href="#Terminology-in-CNNs" class="headerlink" title="Terminology in CNNs"></a>Terminology in CNNs</h2><p><img src="https://raw.githubusercontent.com/XLOverflow/blog-image/main/20251002164429959.png" alt="Convolutional Neural Network"></p>
<p><strong>Filter (Kernel)</strong>: A learned weight tensor $W_c \in \mathbb{R}^{K_h \times K_w \times C_{\text{in}}}$ reused at every location; output at $(u,v,c)$: $y(u,v,c)&#x3D;\sigma(\langle \text{patch}(u,v), W_c\rangle + b_c)$.</p>
<p><strong>Receptive Field</strong>: The input region that affects a neuron’s output; per layer (1D) $r_l&#x3D;r_{l-1}+(k_l-1),d_l,j_{l-1}$, $j_l&#x3D;j_{l-1}s_l$ with $r_0&#x3D;1, j_0&#x3D;1$.</p>
<p><strong>Stride</strong>: The step size when sliding the filter over the input; larger strides reduce output size.</p>
<p><img src="https://raw.githubusercontent.com/XLOverflow/blog-image/main/20251002165111427.png" alt="Flattening"></p>
<p><strong>Flattening</strong>: reshape the final feature maps from shape $H \times W \times C$ into a 1-D vector of length $HWC$ (per sample) before feeding a fully connected&#x2F;softmax layer.</p>
<div class="note info flat"><p><strong>With a classification head</strong>: train for <strong>classification</strong> by feeding the embedding $z$ into a linear layer + softmax (cross-entropy), predicting an ID among $C$ classes.<br><strong>Without a classification head</strong>: for <strong>verification</strong>, drop the linear&#x2F;softmax and compare two embeddings $z_1,z_2$ with a similarity (e.g., cosine) to decide <strong>match vs non-match</strong> (threshold&#x2F;EER).</p>
</div>

<p><img src="https://raw.githubusercontent.com/XLOverflow/blog-image/main/20251002170855251.png" alt="Pooling"></p>
<p><strong>Pooling</strong>: downsample local neighborhoods after conv; </p>
<ul>
<li><strong>max</strong>: $y&#x3D;\max(x_1,\dots,x_K)$ keeps strongest response; </li>
<li><strong>avg</strong>: $y&#x3D;\tfrac{1}{K}\sum_{i&#x3D;1}^K x_i$ smooths;</li>
</ul>
<p>both reduce spatial size (stride $&gt;1$) and add small shift&#x2F;jitter invariance.</p>
<h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2><p><img src="https://raw.githubusercontent.com/XLOverflow/blog-image/main/20251002171028845.png" alt="Overall CNN Architecture"></p>
<ul>
<li>NN learn patterns hierarchically (simple → complex).  </li>
<li>Pattern tasks &#x3D; scan for target with a <strong>shared-parameter</strong> net (like CNN).  </li>
<li>First layer scans input; higher layers scan previous <strong>maps</strong>; final layer makes decision.  </li>
<li>Scanning can be distributed across layers; optional <strong>pooling</strong> adds small-shift invariance.  </li>
<li>2-D scans → <strong>convnet</strong>; 1-D along time → <strong>TDNN</strong>.</li>
</ul>
<h2 id="Appendix"><a href="#Appendix" class="headerlink" title="Appendix"></a>Appendix</h2><ul>
<li><a target="_blank" rel="noopener" href="https://deeplearning.cs.cmu.edu/F25/document/slides/lec9.CNN1.pdf">CNN1 Slides</a></li>
<li><a target="_blank" rel="noopener" href="https://deeplearning.cs.cmu.edu/F25/document/slides/lec10.CNN2.pdf">CNN2 Slides</a></li>
<li><a target="_blank" rel="noopener" href="https://deeplearning.cs.cmu.edu/F25/document/slides/lec11.CNN3.pdf">CNN3 Slides</a></li>
<li><a target="_blank" rel="noopener" href="https://deeplearning.cs.cmu.edu/F25/document/slides/lec12.CNN4.pdf">CNN4 Slides</a></li>
</ul>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>Author: </span><span class="post-copyright-info"><a href="https://xloverflow.github.io">Xiang Li</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>Link: </span><span class="post-copyright-info"><a href="https://xloverflow.github.io/2025/10/02/CNN/">https://xloverflow.github.io/2025/10/02/CNN/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>Copyright Notice: </span><span class="post-copyright-info">All articles on this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless otherwise stated.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Study-Notes/">Study Notes</a><a class="post-meta__tags" href="/tags/Deep-Learning/">Deep Learning</a><a class="post-meta__tags" href="/tags/CNN/">CNN</a><a class="post-meta__tags" href="/tags/CMU-11-785/">CMU 11-785</a></div><div class="post-share"><div class="social-share" data-image="https://raw.githubusercontent.com/XLOverflow/blog-image/main/20251002142654568.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related full-width" href="/2024/09/26/HUST%20Information%20System%20Security%20Lab3-Web%20Security/" title="HUST Information System Security Lab3-Web Security"><img class="cover" src="https://pic1.zhimg.com/80/v2-416f1b8d4133d67e746a67adbb40f508_720w.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">Next</div><div class="info-item-2">HUST Information System Security Lab3-Web Security</div></div><div class="info-2"><div class="info-item-1">Information System Security Lab3 RecordCross-Site Request Forgery (CSRF) Attack ExperimentTask 1: CSRF Attack Based on GET RequestUse samy to log in, send add friend command, get url. HTTP Header Live plugin window captured the packet as shown in the figure:  Thus we can know the GET request structure is http://www.csrflabelgg.com/action/friends/add?friend=id, so now we need to get Samy’s ID number. We can see the red highlighted part 45 is Samy’s ID by trying to create a new interface for Sa...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>Related Articles</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/2022/07/23/C++%20Arrays,%20Pointers%20and%20Strings/" title="C++ Arrays, Pointers and Strings"><img class="cover" src="https://pica.zhimg.com/80/v2-bb5f6ef138cca79e736aa26bb4bdc2e4_1440w.jpeg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2022-07-23</div><div class="info-item-2">C++ Arrays, Pointers and Strings</div></div><div class="info-2"><div class="info-item-1">ArraysAn array is a collection of objects with a certain sequential relationship, and the objects that make up the array become elements of that array. An array name is a pointer that cannot be assigned, called a pointer constant. Two-dimensional arrays in C++ are treated as arrays of one-dimensional arrays. Therefore, two-dimensional arrays are stored in row-major order.    When passing arrays as parameters, the size of the first dimension is generally not specified, and even if specified, i...</div></div></div></a><a class="pagination-related" href="/2022/07/20/C++%20Classes%20and%20Objects/" title="C++ Classes and Objects"><img class="cover" src="https://raw.githubusercontent.com/hustlixiang21/blog-image/main/larm-rmah-1cvEeuJKYto-unsplash.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2022-07-20</div><div class="info-item-2">C++ Classes and Objects</div></div><div class="info-2"><div class="info-item-1">Classes and ObjectsBasic Characteristics of Object-Oriented ProgrammingAbstraction  Summarize the common attributes and behaviors of objects of the same class to form a class. First focus on the essence and description of the problem, then the implementation process or details. Data abstraction: Describe the attributes or state of objects of a certain class (physical quantities that distinguish objects from each other). Code abstraction: Describe the common behavioral characteristics or funct...</div></div></div></a><a class="pagination-related" href="/2022/07/21/C++%20Data%20Sharing%20and%20Protection/" title="C++ Data Sharing and Protection"><img class="cover" src="https://raw.githubusercontent.com/hustlixiang21/blog-image/main/romain-briaux-P-O6B62iWgA-unsplash.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2022-07-21</div><div class="info-item-2">C++ Data Sharing and Protection</div></div><div class="info-2"><div class="info-item-1">Identifier Scope and VisibilityScopeScope is the valid region where an identifier is effective in the program text. Function Prototype ScopeThe scope of formal parameters during function prototype declaration is the function prototype scope. In function prototype parameter lists, only the type matters, not the identifier, which can be omitted. For readability, it’s better to include it.   Local ScopeSimply understood as variables declared within function bodies, from the declaration point to ...</div></div></div></a><a class="pagination-related" href="/2022/07/20/C++%20Functions/" title="C++ Functions"><img class="cover" src="https://raw.githubusercontent.com/hustlixiang21/blog-image/main/jason-blackeye-GPPAjJicemU-unsplash.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2022-07-20</div><div class="info-item-2">C++ Functions</div></div><div class="info-2"><div class="info-item-1">Functionsrand functionFunction prototype: int rand(void);Required header file: &lt;cstdlib&gt;Function and return value: Generates and returns a pseudo-random number  srand functionFunction prototype: void srand(unsigned int seed);Parameter: seed for generating random numbersRequired header file: &lt;cstdlib&gt;Function: Sets the starting point for rand() to generate a series of pseudo-random integers. Using 1 as the seed parameter can reinitialize rand().  It should be noted that if no seed ...</div></div></div></a><a class="pagination-related" href="/2022/07/31/CPP%20Inheritance%20and%20Derivation/" title="CPP Inheritance and Derivation"><img class="cover" src="https://picx.zhimg.com/80/v2-198d4af1c9c6939cf37223aae9e7102f_1440w.jpeg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2022-07-31</div><div class="info-item-2">CPP Inheritance and Derivation</div></div><div class="info-2"><div class="info-item-1">Class Inheritance and DerivationOverviewInheritance means obtaining attributes and behavioral characteristics from ancestors. Class inheritance is when a new class obtains existing characteristics from an existing class. From another perspective, the process of creating a new class from an existing class is called class derivation. They are essentially the same, just the same process viewed from different angles.   Purpose of Inheritance and DerivationPurpose of inheritance: Achieve reuse of ...</div></div></div></a><a class="pagination-related" href="/2022/08/04/Generic%20Programming%20and%20C++%20Standard%20Template%20Library%20(STL)/" title="Generic Programming and C++ Standard Template Library (STL)"><img class="cover" src="https://pic1.zhimg.com/80/v2-b3235667ca289c4b127e5448bed79144_1440w.jpeg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2022-08-04</div><div class="info-item-2">Generic Programming and C++ Standard Template Library (STL)</div></div><div class="info-2"><div class="info-item-1">First, here are two reference articles:STL Function ReferenceWhat is STL? Generic Programming and STL StructureBasic Concepts of Generic ProgrammingRefers to writing programs that do not depend on specific data types. Templates are the main tools of generic programming. Terminology: Concepts Used to define data types that have certain functions. For example:  The concept of “all data types that can be compared (with comparison operators)” is denoted as Comparable The concept of “data types th...</div></div></div></a></div></div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> Comments</span></div></div><div class="comment-wrap"><div><div id="gitalk-container"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="https://pica.zhimg.com/80/v2-b6830c2136b7784c0aba649af7ec2867_1440w.jpeg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">Xiang Li</div><div class="author-info-description">Xiang Li's Blog</div><div class="site-data"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">25</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">19</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">5</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/XLOverflow"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">Talk is cheap. Show me the code.</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Contents</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Convolutional-Neural-Networks-CNN"><span class="toc-number">1.</span> <span class="toc-text">Convolutional Neural Networks (CNN)</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Regular-networks-vs-Scanning-networks"><span class="toc-number">1.1.</span> <span class="toc-text">Regular networks vs. Scanning networks</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Regular-networks"><span class="toc-number">1.1.1.</span> <span class="toc-text">Regular networks</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Scanning-networks"><span class="toc-number">1.1.2.</span> <span class="toc-text">Scanning networks</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Learning-in-shared-parameter-model"><span class="toc-number">1.2.</span> <span class="toc-text">Learning in shared parameter model</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-Shared-Parameters"><span class="toc-number">1.2.1.</span> <span class="toc-text">1) Shared Parameters</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-Gradient-of-Shared-Parameters"><span class="toc-number">1.2.2.</span> <span class="toc-text">2) Gradient of Shared Parameters</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-Gradient-Descent-Update"><span class="toc-number">1.2.3.</span> <span class="toc-text">3) Gradient Descent Update</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-Training-Loop"><span class="toc-number">1.2.4.</span> <span class="toc-text">4) Training Loop</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Distributed-vs-Non-distributed-Scanning"><span class="toc-number">1.3.</span> <span class="toc-text">Distributed vs Non-distributed Scanning</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Definition"><span class="toc-number">1.3.1.</span> <span class="toc-text">Definition</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Key-Differences"><span class="toc-number">1.3.2.</span> <span class="toc-text">Key Differences</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#One-liner"><span class="toc-number">1.3.3.</span> <span class="toc-text">One-liner</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Terminology-in-CNNs"><span class="toc-number">1.4.</span> <span class="toc-text">Terminology in CNNs</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Summary"><span class="toc-number">1.5.</span> <span class="toc-text">Summary</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Appendix"><span class="toc-number">1.6.</span> <span class="toc-text">Appendix</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Posts</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/10/02/CNN/" title="CNNs - Part 1"><img src="https://raw.githubusercontent.com/XLOverflow/blog-image/main/20251002142654568.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="CNNs - Part 1"/></a><div class="content"><a class="title" href="/2025/10/02/CNN/" title="CNNs - Part 1">CNNs - Part 1</a><time datetime="2025-10-02T18:01:45.000Z" title="Created 2025-10-02 14:01:45">2025-10-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/09/26/HUST%20Information%20System%20Security%20Lab3-Web%20Security/" title="HUST Information System Security Lab3-Web Security"><img src="https://pic1.zhimg.com/80/v2-416f1b8d4133d67e746a67adbb40f508_720w.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="HUST Information System Security Lab3-Web Security"/></a><div class="content"><a class="title" href="/2024/09/26/HUST%20Information%20System%20Security%20Lab3-Web%20Security/" title="HUST Information System Security Lab3-Web Security">HUST Information System Security Lab3-Web Security</a><time datetime="2024-09-26T15:04:15.000Z" title="Created 2024-09-26 11:04:15">2024-09-26</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/09/26/HUST%20Information%20System%20Security%20Lab2-System%20Security/" title="HUST Information System Security Lab2-System Security"><img src="https://picx.zhimg.com/80/v2-06450eedf96def79a590cec5c6c0ecbd_720w.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="HUST Information System Security Lab2-System Security"/></a><div class="content"><a class="title" href="/2024/09/26/HUST%20Information%20System%20Security%20Lab2-System%20Security/" title="HUST Information System Security Lab2-System Security">HUST Information System Security Lab2-System Security</a><time datetime="2024-09-26T15:03:54.000Z" title="Created 2024-09-26 11:03:54">2024-09-26</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/09/26/HUST%20Information%20System%20Security%20Lab1-Software%20Security/" title="HUST Information System Security Lab1-Software Security"><img src="https://t3.chei.com.cn/zyk/zybk/zyjd/cdn/showImg/ikb2ll7ejr4ufkfj.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="HUST Information System Security Lab1-Software Security"/></a><div class="content"><a class="title" href="/2024/09/26/HUST%20Information%20System%20Security%20Lab1-Software%20Security/" title="HUST Information System Security Lab1-Software Security">HUST Information System Security Lab1-Software Security</a><time datetime="2024-09-26T15:03:38.000Z" title="Created 2024-09-26 11:03:38">2024-09-26</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/12/05/HUST%20Operating%20System%20Lab3:%20Memory%20Management/" title="HUST Operating System Lab3: Memory Management"><img src="https://raw.githubusercontent.com/hustlixiang21/blog-image/main/david-marcu-78A265wPiO4-unsplash.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="HUST Operating System Lab3: Memory Management"/></a><div class="content"><a class="title" href="/2023/12/05/HUST%20Operating%20System%20Lab3:%20Memory%20Management/" title="HUST Operating System Lab3: Memory Management">HUST Operating System Lab3: Memory Management</a><time datetime="2023-12-05T23:51:55.000Z" title="Created 2023-12-05 18:51:55">2023-12-05</time></div></div></div></div></div></div></main><footer id="footer"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2025 By Xiang Li</span><span class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 7.3.0</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.4.3</a></span></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Reading Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Toggle Between Light and Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle Between Single-column and Double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Settings"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table of Contents"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="Scroll to Comments"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="Back to Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"><script>(() => {
  const loadMathjax = () => {
    if (!window.MathJax) {
      window.MathJax = {
        tex: {
          inlineMath: [['$', '$'], ['\\(', '\\)']],
          tags: 'none',
        },
        chtml: {
          scale: 1.1
        },
        options: {
          enableMenu: true,
          renderActions: {
            findScript: [10, doc => {
              for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
                const display = !!node.type.match(/; *mode=display/)
                const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
                const text = document.createTextNode('')
                node.parentNode.replaceChild(text, node)
                math.start = {node: text, delim: '', n: 0}
                math.end = {node: text, delim: '', n: 0}
                doc.math.push(math)
              }
            }, '']
          }
        }
      }

      const script = document.createElement('script')
      script.src = 'https://cdn.jsdelivr.net/npm/mathjax/es5/tex-mml-chtml.min.js'
      script.id = 'MathJax-script'
      script.async = true
      document.head.appendChild(script)
    } else {
      MathJax.startup.document.state(0)
      MathJax.texReset()
      MathJax.typesetPromise()
    }
  }

  btf.addGlobalFn('encrypt', loadMathjax, 'mathjax')
  window.pjax ? loadMathjax() : window.addEventListener('load', loadMathjax)
})()</script><script>(() => {
  const isShuoshuo = GLOBAL_CONFIG_SITE.pageType === 'shuoshuo'
  const option = null

  const commentCount = n => {
    const isCommentCount = document.querySelector('#post-meta .gitalk-comment-count')
    if (isCommentCount) {
      isCommentCount.textContent= n
    }
  }

  const initGitalk = (el, path) => {
    if (isShuoshuo) {
      window.shuoshuoComment.destroyGitalk = () => {
        if (el.children.length) {
          el.innerHTML = ''
          el.classList.add('no-comment')
        }
      }
    }

    const gitalk = new Gitalk({
      clientID: 'fb37ffde539166b338d8',
      clientSecret: '00c01014243d312219aa68b6a2e22f7f19f4c8ef',
      repo: 'blog-comments',
      owner: 'XLOverflow',
      admin: ['XLOverflow'],
      updateCountCallback: commentCount,
      ...option,
      id: isShuoshuo ? path : (option && option.id) || 'fe8f545cb2e2ee0fe88cb6eacb003c0a'
    })

    gitalk.render('gitalk-container')
  }

  const loadGitalk = async(el, path) => {
    if (typeof Gitalk === 'function') initGitalk(el, path)
    else {
      await btf.getCSS('https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.css')
      await btf.getScript('https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.js')
      initGitalk(el, path)
    }
  }

  if (isShuoshuo) {
    'Gitalk' === 'Gitalk'
      ? window.shuoshuoComment = { loadComment: loadGitalk }
      : window.loadOtherComment = loadGitalk
    return
  }

  if ('Gitalk' === 'Gitalk' || !true) {
    if (true) btf.loadComment(document.getElementById('gitalk-container'), loadGitalk)
    else loadGitalk()
  } else {
    window.loadOtherComment = loadGitalk
  }
})()</script></div><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-nest.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>(() => {
  const pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

  window.pjax = new Pjax({
    elements: 'a:not([target="_blank"])',
    selectors: pjaxSelectors,
    cacheBust: false,
    analytics: false,
    scrollRestoration: false
  })

  const triggerPjaxFn = (val) => {
    if (!val) return
    Object.values(val).forEach(fn => fn())
  }

  document.addEventListener('pjax:send', () => {
    // removeEventListener
    btf.removeGlobalFnEvent('pjaxSendOnce')
    btf.removeGlobalFnEvent('themeChange')

    // reset readmode
    const $bodyClassList = document.body.classList
    if ($bodyClassList.contains('read-mode')) $bodyClassList.remove('read-mode')

    triggerPjaxFn(window.globalFn.pjaxSend)
  })

  document.addEventListener('pjax:complete', () => {
    btf.removeGlobalFnEvent('pjaxCompleteOnce')
    document.querySelectorAll('script[data-pjax]').forEach(item => {
      const newScript = document.createElement('script')
      const content = item.text || item.textContent || item.innerHTML || ""
      Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
      newScript.appendChild(document.createTextNode(content))
      item.parentNode.replaceChild(newScript, item)
    })

    triggerPjaxFn(window.globalFn.pjaxComplete)
  })

  document.addEventListener('pjax:error', e => {
    if (e.request.status === 404) {
      const usePjax = true
      false
        ? (usePjax ? pjax.loadUrl('/404.html') : window.location.href = '/404.html')
        : window.location.href = e.request.responseURL
    }
  })
})()</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>